# API Gateway Configuration

environment: development
port: 8060

server:
  read_timeout: 15s
  write_timeout: 15s
  idle_timeout: 60s

jwt:
  secret_key: "change-me-in-production"
  token_duration: 15m
  refresh_duration: 168h # 7 days
  issuer: "ugjb-api-gateway"

rate_limit:
  enabled: true
  requests_per_min: 100
  burst_size: 20
  cleanup_interval: 1m

redis:
  host: "localhost"
  port: 6379
  password: ""
  db: 0

cors:
  allow_origins:
    - "*"
  allow_methods:
    - "GET"
    - "POST"
    - "PUT"
    - "PATCH"
    - "DELETE"
    - "OPTIONS"
  allow_headers:
    - "Origin"
    - "Content-Type"
    - "Accept"
    - "Authorization"
    - "X-Request-ID"
  expose_headers:
    - "Content-Length"
    - "X-Request-ID"
  allow_credentials: true
  max_age: 43200 # 12 hours

opa:
  enabled: true
  policy_path: "./policies"
  bundle_url: ""

services:
  project_management:
    base_url: "http://localhost:8061"
    timeout: 30s

  goal_management:
    base_url: "http://localhost:8062"
    timeout: 30s

  hr_management:
    base_url: "http://localhost:8063"
    timeout: 30s

  engineering_analytics:
    base_url: "http://localhost:8064"
    timeout: 30s

  workforce_wellbeing:
    base_url: "http://localhost:8065"
    timeout: 30s
